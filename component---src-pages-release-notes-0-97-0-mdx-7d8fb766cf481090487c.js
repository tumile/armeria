(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"1lec":function(e){e.exports=JSON.parse('{"/release-notes/1.0.0":"v1.0.0","/release-notes/0.99.9":"v0.99.9","/release-notes/0.99.8":"v0.99.8","/release-notes/0.99.7":"v0.99.7","/release-notes/0.99.6":"v0.99.6","/release-notes/0.99.5":"v0.99.5","/release-notes/0.99.4":"v0.99.4","/release-notes/0.99.3":"v0.99.3","/release-notes/0.99.2":"v0.99.2","/release-notes/0.99.1":"v0.99.1","/release-notes/0.99.0":"v0.99.0","/release-notes/0.98.7":"v0.98.7","/release-notes/0.98.6":"v0.98.6","/release-notes/0.98.5":"v0.98.5","/release-notes/0.98.4":"v0.98.4","/release-notes/0.98.3":"v0.98.3"}')},"2+3N":function(e){e.exports=JSON.parse('{"/news/20200703-newsletter-1":"Armeria Newsletter vol. 1","/news/20200514-newsletter-0":"Armeria Newsletter vol. 0"}')},JkCF:function(e,t,a){"use strict";a("tU7J");var n=a("wFql"),i=a("q1tI"),r=a.n(i),s=a("2+3N"),c=a("1lec"),b=a("+ejy"),o=a("+9zj"),l=n.a.Title;t.a=function(e){var t={},a={},n={root:{"Latest news items":"/news","Latest release notes":"/release-notes","Past news items":"/news/list","Past release notes":"/release-notes/list"},"Recent news items":t,"Recent releases":a};Object.entries(s).forEach((function(e){var a=e[0],n=e[1];t[n]=a})),Object.entries(c).forEach((function(e){var t=e[0],n=e[1];a[n]=t}));var i=Object(o.a)(e.location),p=e.version||i.substring(i.lastIndexOf("/")+1);return p.match(/^[0-9]/)||(p=void 0),r.a.createElement(b.a,Object.assign({},e,{candidateMdxNodes:[],index:n,prefix:"release-notes",pageTitle:p?p+" release notes":e.pageTitle,pageTitleSuffix:"Armeria release notes"}),p?r.a.createElement(l,{id:"release-notes",level:1},r.a.createElement("a",{href:"#release-notes","aria-label":"release notes permalink",className:"anchor before"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},r.a.createElement("path",{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),p," release notes"):"",e.children)}},LhpH:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return p}));var n,i=a("8o2o"),r=(a("q1tI"),a("7ljp")),s=a("JkCF"),c={},b=(n="ThankYou",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(r.b)("div",e)}),o={_frontmatter:c},l=s.a;function p(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)(l,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",{className:"date"},"8th December 2019"),Object(r.b)("h2",{id:"-new-features",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#-new-features","aria-label":" new features permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üåü New features"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"We now have a new immutable cookie API with ",Object(r.b)("inlineCode",{parentName:"p"},"SameSite")," attribute support, which replaces Netty's cookie API. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/1567"}),"#1567")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'Cookie c1 = Cookie.of("foo", "bar")\nCookie c2 = Cookie.builder("alice", "bob")\n                  .domain("foo.com")\n                  .path("/bar")\n                  .maxAge(3600)\n                  .sameSite("Strict")\n                  .build();\n// Encoding\nResponseHeaders resHeaders =\n    ResponseHeaders.builder(HttpStatus.OK)\n                   .add(HttpHeaderNames.SET_COOKIE,\n                        Cookie.toSetCookieHeaders(c1, c2))\n                   .build();\n// Decoding\nCookies cookies =\n    Cookie.fromSetCookieHeaders(\n        resHeaders.getAll(HttpHeaderNames.SET_COOKIE));\n'))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You can now replace the request headers of ",Object(r.b)("inlineCode",{parentName:"p"},"HttpRequest")," more conveniently using ",Object(r.b)("inlineCode",{parentName:"p"},"HttpRequest.withHeaders(RequestHeaders)"),". ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2278"}),"#2278")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2283"}),"#2283")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'HttpRequest req = HttpRequest.of(HttpMethod.POST, "/post",\n                                 MediaType.PLAIN_TEXT_UTF_8,\n                                 "Hello!");\nRequestHeaders newHeaders = RequestHeaders.of(HttpMethod.PUT, "/put",\n                                              MediaType.PLAIN_TEXT_UTF_8);\nHttpRequest newReq = req.withHeaders(newHeaders);\n'))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"ServiceRequestContext.blockingTaskExecutor()")," is now a ",Object(r.b)("inlineCode",{parentName:"p"},"ScheduledExecutorService")," instead of ",Object(r.b)("inlineCode",{parentName:"p"},"ExecutorService"),", which means you can schedule delayed or periodic tasks. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2269"}),"#2269")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'// A service that sends `PING!` every second.\nHttpService service = (ctx, req) -> {\n    HttpResponse res = HttpResponse.streaming();\n    res.write(ResponseHeaders.of(200));\n    AtomicReference<ScheduledFuture<?>> futureHolder = new AtomicReference<>();\n    futureHolder.set(ctx.blockingTaskExecutor().scheduleWithFixedDelay(() -> {\n        boolean success = res.tryWrite(HttpData.ofUtf8("PING!\\r\\n"));\n        if (!success) {\n            if (futureHolder.get() != null) {\n                futureHolder.get().cancel(false);\n            }\n        }\n    }, 1, TimeUnit.SECONDS));\n    return res;\n};\n'))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You can now add converters and exception handlers to annotated services more conveniently using the new fluent builder methods. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2242"}),"#2242")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),"Server server =\n    Server.builder()\n          .annotatedService().requestConverters(converterA, converterB)\n                             .responseConverters(converterC, converterD)\n                             .exceptionHandlers(handlerA, handlerB)\n                             .build(myAnnotatedService)\n          .build();\n"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You can now configure how Armeria decides ",Object(r.b)("inlineCode",{parentName:"p"},"ServiceRequestContext.clientAddress()")," via ",Object(r.b)("inlineCode",{parentName:"p"},"ServerBuilder.clientAddressMapper()"),". ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/1631"}),"#1631")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2294"}),"#2294")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),"Server.builder()\n      .clientAddressMapper(proxiedAddrs -> {\n          InetSocketAddress srcAddr = proxiedAddrs.sourceAddress();\n          List<InetSocketAddress> destAddrs = proxiedAddrs.destinationAddresses();\n          if (destAddrs.isEmpty()) {\n              // No proxy servers involved.\n              return srcAddr;\n          } else {\n              // When there are more than one proxy server involved,\n              // trust only the address given by the last proxy server.\n              return destAddrs.get(destAddrs.size() - 1);\n          }\n      });\n"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"You can now choose a different SLF4J ",Object(r.b)("inlineCode",{parentName:"p"},"Logger")," than the default one when using ",Object(r.b)("inlineCode",{parentName:"p"},"LoggingClient")," or ",Object(r.b)("inlineCode",{parentName:"p"},"LoggingService"),". ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2220"}),"#2220")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2237"}),"#2237")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'Logger myLogger = LoggerFactory.getLogger(MyService.class);\nServer server =\n    Server.builder()\n          .service("/",\n                   myService.decorate(LoggingService.builder()\n                                                    .logger(myLogger)\n                                                    .newDecorator()))\n          .build();\n'))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"BraveClient")," now adds connection timing information to a span. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2271"}),"#2271")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2273"}),"#2273")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"connection-acquire.start")," and ",Object(r.b)("inlineCode",{parentName:"li"},"connection-acquire.end")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"dns-resolve.start")," and ",Object(r.b)("inlineCode",{parentName:"li"},"dns-resolve.end")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"socket-connect.start")," and ",Object(r.b)("inlineCode",{parentName:"li"},"socket-connect.end")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"connection-reuse.start")," and ",Object(r.b)("inlineCode",{parentName:"li"},"connection-reuse.end")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"withDeadlineAfter")," is now supported for gRPC client stubs. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2284"}),"#2284"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"GrpcService")," now allows controlling whether to respect the ",Object(r.b)("inlineCode",{parentName:"p"},'"grpc-timeout"')," header sent by a gRPC client. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2284"}),"#2284")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Consider disabling this feature via ",Object(r.b)("inlineCode",{parentName:"li"},"GrpcServiceBuilder.useClientTimeoutHeader()")," in an insecure environment."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"THttpService")," and ",Object(r.b)("inlineCode",{parentName:"p"},"ThriftCallService")," now supports adding more than one Thrift service at the same endpoint. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2164"}),"#2164")," ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2285"}),"#2285")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'class MyFooService implements FooService.Iface ... {\n    public void foo() { ... }\n}\n\nclass MyBarService implements BarService.Iface ... {\n    public void bar() { ... }\n}\n\n// "foo" call goes to MyFooService and\n// "bar" call goes to MyBarService.\nServer server =\n    Server.builder()\n          .service("/thrift",\n                   THttpService.builder()\n                               .addService(new MyFooService())\n                               .addService(new MyBarService())\n                               .build())\n          .build();\n'))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"armeria-spring-boot-actuator-autoconfigure")," now supports the official CORS settings. ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/line/armeria/issues/2063"}),"#2063")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-yaml"}),"# application.yml\nmanagement.endpoints.web.cors.allowed-origins: https://example.com\nmanagement.endpoints.web.cors.allowed-methods: GET,POST\n")))),Object(r.b)("h2",{id:"-improvements",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#-improvements","aria-label":" improvements permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üìà Improvements"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Improved routing performance. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2293"}),"#2293")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2295"}),"#2295")),Object(r.b)("li",{parentName:"ul"},"The core JAR file is now smaller, by removing unnecessary resources such as web fonts and favicons. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2299"}),"#2299")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2300"}),"#2300")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"HttpRequest.of(RequestHeaders, Publisher)")," now handles the case where the ",Object(r.b)("inlineCode",{parentName:"li"},"Publisher")," is actually an ",Object(r.b)("inlineCode",{parentName:"li"},"HttpRequest"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2278"}),"#2278")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2283"}),"#2283"))),Object(r.b)("h2",{id:"-security-fixes",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#-security-fixes","aria-label":" security fixes permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üîí Security fixes"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"(Moderate) ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/security/advisories/GHSA-35fr-h7jr-hh86"}),"CWE-113: Improper Neutralization of CRLF Sequences in HTTP Headers ('HTTP Response Splitting')")),Object(r.b)("li",{parentName:"ul"},"(Low) ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/security/advisories/GHSA-24r8-fm9r-cpj2"}),"Multiple timing attack vulnerabilities leading to the recovery of secrets based on the use of non-constant time compare function"))),Object(r.b)("h2",{id:"Ô∏è-bug-fixes",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#%EF%B8%8F-bug-fixes","aria-label":"Ô∏è bug fixes permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üõ†Ô∏è Bug fixes"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The event loop threads are properly cleaned up when ",Object(r.b)("inlineCode",{parentName:"li"},"Server")," failed to start. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2288"}),"#2288")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Server")," now sends a redirect response correctly for the requests without a trailing slash (",Object(r.b)("inlineCode",{parentName:"li"},"/"),") even when you bound a fallback service at ",Object(r.b)("inlineCode",{parentName:"li"},"prefix:/"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2116"}),"#2116")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2292"}),"#2292")),Object(r.b)("li",{parentName:"ul"},"Fixed a bug where routing cache did not work as expected, leading suboptimal routing performance. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2293"}),"#2293")),Object(r.b)("li",{parentName:"ul"},"Annotated services now accept only the first ",Object(r.b)("inlineCode",{parentName:"li"},'"Cookie"')," header when injecting ",Object(r.b)("inlineCode",{parentName:"li"},"Cookies"),", because multiple ",Object(r.b)("inlineCode",{parentName:"li"},'"Cookie"')," headers must be prohibited according to RFC 6265. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"GrpcService")," now respects gRPC stub deadline. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2008"}),"#2008")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2284"}),"#2284"))),Object(r.b)("h2",{id:"Ô∏è-deprecations",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#%EF%B8%8F-deprecations","aria-label":"Ô∏è deprecations permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üèöÔ∏è Deprecations"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Deprecated ",Object(r.b)("inlineCode",{parentName:"li"},"HttpRequest.of(HttpRequest, RequestHeaders)")," in favor of\n",Object(r.b)("inlineCode",{parentName:"li"},"HttpRequest.withHeaders()")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2283"}),"#2283")),Object(r.b)("li",{parentName:"ul"},"Deprecated ",Object(r.b)("inlineCode",{parentName:"li"},"HttpRequest.of(AggregatedHttpRequest)")," and\n",Object(r.b)("inlineCode",{parentName:"li"},"HttpResponse.of(AggregatedHttpResponse)")," in favor of\n",Object(r.b)("inlineCode",{parentName:"li"},"AggregatedHttpRequest.toHttpRequest()")," and\n",Object(r.b)("inlineCode",{parentName:"li"},"AggregatedHttpResponse.toHttpResponse()"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2283"}),"#2283"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"These methods were removed from ",Object(r.b)("inlineCode",{parentName:"li"},"AggregatedHttpMessage")," some time ago due to ambiguity, but now we are reviving them because we have separate types for requests and responses."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Cookies.copyOf()")," has been deprecated in favor of ",Object(r.b)("inlineCode",{parentName:"li"},"Cookies.of()"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"AnnotatedServiceBuildingBuilder.requestConverter()"),", ",Object(r.b)("inlineCode",{parentName:"li"},"responseConverter()")," and ",Object(r.b)("inlineCode",{parentName:"li"},"exceptionHandler()")," have been deprecated in favor of ",Object(r.b)("inlineCode",{parentName:"li"},"requestConverters()"),", ",Object(r.b)("inlineCode",{parentName:"li"},"responseConverters()")," and ",Object(r.b)("inlineCode",{parentName:"li"},"exceptionHandlers()")," respectively. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2242"}),"#2242")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Sampler.rateLimited()")," has been deprecated in favor of ",Object(r.b)("inlineCode",{parentName:"li"},"rateLimiting()"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2122"}),"#2122")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2289"}),"#2289")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"THttpService.of()")," and ",Object(r.b)("inlineCode",{parentName:"li"},"ofFormats()")," factory methods that require a ",Object(r.b)("inlineCode",{parentName:"li"},"Map<String, ?>")," have been deprecated. Use ",Object(r.b)("inlineCode",{parentName:"li"},"THttpService.builder()")," and call ",Object(r.b)("inlineCode",{parentName:"li"},"THttpService.addService(String, Object)")," multiple times instead. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2285"}),"#2285"))),Object(r.b)("h2",{id:"Ô∏è-breaking-changes",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#%EF%B8%8F-breaking-changes","aria-label":"Ô∏è breaking changes permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"‚ò¢Ô∏è Breaking changes"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"ServerBuilder.blockingTaskExecutor()")," now requires a ",Object(r.b)("inlineCode",{parentName:"li"},"ScheduledExecutorService")," instead of an ",Object(r.b)("inlineCode",{parentName:"li"},"ExecutorService"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2269"}),"#2269")),Object(r.b)("li",{parentName:"ul"},"The behavior of automatic redirection for the case of missing trailing slash (",Object(r.b)("inlineCode",{parentName:"li"},"/"),") has been changed (in a good way). ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2116"}),"#2116")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2292"}),"#2292"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"For example, previously, when a client sent a request to ",Object(r.b)("inlineCode",{parentName:"li"},"/docs"),", the following server routed the request to ",Object(r.b)("inlineCode",{parentName:"li"},"TomcatService"),":",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'Server server =\n    Server.builder()\n          .serviceUnder("/docs", new DocService())\n          .serviceUnder("/", TomcatSerivce.forClassPath(...))\n          .build();\n'))),Object(r.b)("li",{parentName:"ul"},"However, from this release, the request will not be routed to ",Object(r.b)("inlineCode",{parentName:"li"},"TomcatService")," but the server will issue a redirect response to ",Object(r.b)("inlineCode",{parentName:"li"},"/docs/"),"."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"ProxiedAddresses")," class has been redesigned to handle the case of more than one intermediary proxy server. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/1631"}),"#1631")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2294"}),"#2294")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Cookies")," now uses Armeria's own ",Object(r.b)("inlineCode",{parentName:"li"},"Cookie"),". ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Cookies")," now may contain the cookies with the same name. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Note that RFC does not prohibit duplicate names at all, so this is correct behavior."))),Object(r.b)("li",{parentName:"ul"},"Annotated services now accept only the first ",Object(r.b)("inlineCode",{parentName:"li"},'"Cookie"')," header when decoding cookies. Sending multiple ",Object(r.b)("inlineCode",{parentName:"li"},'"Cookie"')," headers was a violation of RFC 6265 anyway. ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2286"}),"#2286")),Object(r.b)("li",{parentName:"ul"},"The ",Object(r.b)("inlineCode",{parentName:"li"},"ThriftCallService")," factory method with signature ",Object(r.b)("inlineCode",{parentName:"li"},"of(Map<String, ? extends Iterable<?>>)")," has been changed to ",Object(r.b)("inlineCode",{parentName:"li"},"of(Map<String, ? extends Iterable<?>>)")," ",Object(r.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/line/armeria/issues/2285"}),"#2285"))),Object(r.b)("h2",{id:"-dependencies",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#-dependencies","aria-label":" dependencies permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"‚õì Dependencies"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Brave 1.3.1"),Object(r.b)("li",{parentName:"ul"},"Jetty 9.4.22 -> 9.4.24"),Object(r.b)("li",{parentName:"ul"},"Micrometer 1.3.1 -> 1.3.2"),Object(r.b)("li",{parentName:"ul"},"Netty TCNative BoringSSL 2.0.27 -> 2.0.26"),Object(r.b)("li",{parentName:"ul"},"Project Reactor 3.3.0 -> 3.3.1"),Object(r.b)("li",{parentName:"ul"},"RxJava2 2.2.14 -> 2.2.15"),Object(r.b)("li",{parentName:"ul"},"Spring Boot 2.1.10 -> 2.2.1"),Object(r.b)("li",{parentName:"ul"},"Tomcat 9.0.27 -> 9.0.29, 8.5.47 -> 8.5.49")),Object(r.b)("h2",{id:"-thank-you",style:{position:"relative"}},Object(r.b)("a",Object.assign({parentName:"h2"},{href:"#-thank-you","aria-label":" thank you permalink",className:"anchor before"}),Object(r.b)("svg",Object.assign({parentName:"a"},{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}),Object(r.b)("path",Object.assign({parentName:"svg"},{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})))),"üôá Thank you"),Object(r.b)(b,{usernames:["anuraaga","chrsow","heowc","hyangtack","ikhoon","imasahiro","JLLeitschuh","JunoJunho","magnuschatt","minwoox","monorisk","renaudb","sivaalli","stypr","tobias-","trustin"],mdxType:"ThankYou"}))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-release-notes-0-97-0-mdx-7d8fb766cf481090487c.js.map